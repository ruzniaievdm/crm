{"version":3,"sources":["webpack:///./node_modules/core-js/modules/es6.array.reduce.js","webpack:///./src/views/Planning.vue?d092","webpack:///src/views/Planning.vue","webpack:///./src/views/Planning.vue?f4f6","webpack:///./src/views/Planning.vue","webpack:///./node_modules/core-js/modules/_array-reduce.js"],"names":["$export","$reduce","P","F","reduce","callbackfn","this","arguments","length","render","_vm","_h","$createElement","_c","_self","staticClass","_v","_s","_f","info","bill","_l","cat","key","id","title","spend","limit","directives","name","rawName","value","expression","class","progressColor","style","width","progressPercent","staticRenderFns","data","computed","component","aFunction","toObject","IObject","toLength","module","exports","that","aLen","memo","isRight","O","self","index","i","TypeError"],"mappings":"kHACA,IAAIA,EAAU,EAAQ,QAClBC,EAAU,EAAQ,QAEtBD,EAAQA,EAAQE,EAAIF,EAAQG,GAAK,EAAQ,OAAR,CAA4B,GAAGC,QAAQ,GAAO,QAAS,CAEtFA,OAAQ,SAAgBC,GACtB,OAAOJ,EAAQK,KAAMD,EAAYE,UAAUC,OAAQD,UAAU,IAAI,O,yCCPrE,IAAIE,EAAS,WAAa,IAAIC,EAAIJ,KAASK,EAAGD,EAAIE,eAAmBC,EAAGH,EAAII,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACA,EAAG,MAAM,CAACE,YAAY,cAAc,CAACF,EAAG,KAAK,CAACH,EAAIM,GAAG,kBAAkBH,EAAG,KAAK,CAACH,EAAIM,GAAGN,EAAIO,GAAGP,EAAIQ,GAAG,WAAPR,CAAmBA,EAAIS,KAAKC,YAAYP,EAAG,UAAUH,EAAIW,GAAIX,EAAc,YAAE,SAASY,GAAK,OAAOT,EAAG,MAAM,CAACU,IAAID,EAAIE,IAAI,CAACX,EAAG,IAAI,CAACA,EAAG,SAAS,CAACH,EAAIM,GAAGN,EAAIO,GAAGK,EAAIG,OAAO,OAAOf,EAAIM,GAAG,aAAaN,EAAIO,GAAGP,EAAIQ,GAAG,WAAPR,CAAmBY,EAAII,QAAQ,OAAOhB,EAAIO,GAAGP,EAAIQ,GAAG,WAAPR,CAAmBY,EAAIK,QAAQ,cAAcd,EAAG,MAAM,CAACe,WAAW,CAAC,CAACC,KAAK,UAAUC,QAAQ,YAAYC,MAAOT,EAAW,QAAEU,WAAW,gBAAgBjB,YAAY,YAAY,CAACF,EAAG,MAAM,CAACE,YAAY,cAAckB,MAAM,CAACX,EAAIY,eAAeC,MAAM,CAAEC,MAAOd,EAAIe,gBAAgB,OAAQ3B,EAAIM,GAAG,8BAA6B,MACtvBsB,EAAkB,G,ouBCiCtB,OACET,KAAM,WACNU,KAAM,WAAR,OACA,WACA,gBAEE,QANF,+KAOA,qCAPA,cAOA,EAPA,gBAQA,wCARA,OAQA,EARA,OASA,mCACA,QACA,kDACA,gDACA,sBACA,sBACA,GACA,gBACA,cACA,OACA,QACA,MACA,SACA,MACA,YACA,yEACA,cACA,GADA,IAEA,kBACA,gBACA,QACA,eAGA,gBAjCA,wGAmCEC,SAAU,EAAZ,GACA,2BCtEkV,I,YCO9UC,EAAY,eACd,EACAhC,EACA6B,GACA,EACA,KACA,KACA,MAIa,aAAAG,E,gCClBf,IAAIC,EAAY,EAAQ,QACpBC,EAAW,EAAQ,QACnBC,EAAU,EAAQ,QAClBC,EAAW,EAAQ,QAEvBC,EAAOC,QAAU,SAAUC,EAAM3C,EAAY4C,EAAMC,EAAMC,GACvDT,EAAUrC,GACV,IAAI+C,EAAIT,EAASK,GACbK,EAAOT,EAAQQ,GACf5C,EAASqC,EAASO,EAAE5C,QACpB8C,EAAQH,EAAU3C,EAAS,EAAI,EAC/B+C,EAAIJ,GAAW,EAAI,EACvB,GAAIF,EAAO,EAAG,OAAS,CACrB,GAAIK,KAASD,EAAM,CACjBH,EAAOG,EAAKC,GACZA,GAASC,EACT,MAGF,GADAD,GAASC,EACLJ,EAAUG,EAAQ,EAAI9C,GAAU8C,EAClC,MAAME,UAAU,+CAGpB,KAAML,EAAUG,GAAS,EAAI9C,EAAS8C,EAAOA,GAASC,EAAOD,KAASD,IACpEH,EAAO7C,EAAW6C,EAAMG,EAAKC,GAAQA,EAAOF,IAE9C,OAAOF","file":"js/chunk-07924f43.1163de7a.js","sourcesContent":["'use strict';\nvar $export = require('./_export');\nvar $reduce = require('./_array-reduce');\n\n$export($export.P + $export.F * !require('./_strict-method')([].reduce, true), 'Array', {\n  // 22.1.3.18 / 15.4.4.21 Array.prototype.reduce(callbackfn [, initialValue])\n  reduce: function reduce(callbackfn /* , initialValue */) {\n    return $reduce(this, callbackfn, arguments.length, arguments[1], false);\n  }\n});\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"page-title\"},[_c('h3',[_vm._v(\"Планирование\")]),_c('h4',[_vm._v(_vm._s(_vm._f(\"currency\")(_vm.info.bill)))])]),_c('section',_vm._l((_vm.categories),function(cat){return _c('div',{key:cat.id},[_c('p',[_c('strong',[_vm._v(_vm._s(cat.title)+\":\")]),_vm._v(\"\\n        \"+_vm._s(_vm._f(\"currency\")(cat.spend))+\" из \"+_vm._s(_vm._f(\"currency\")(cat.limit))+\"\\n      \")]),_c('div',{directives:[{name:\"tooltip\",rawName:\"v-tooltip\",value:(cat.tooltip),expression:\"cat.tooltip\"}],staticClass:\"progress\"},[_c('div',{staticClass:\"determinate\",class:[cat.progressColor],style:({width: cat.progressPercent+'%'})}),_vm._v(\"\\n        s\\n      \")])])}),0)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <div class=\"page-title\">\n      <h3>Планирование</h3>\n      <h4>{{ info.bill | currency }}</h4>\n    </div>\n    <!--    <Loader v-if=\"true\"/>-->\n    <!--    <p class=\"center\" v-else-if=\"!categories.length\">-->\n    <!--      Category does not exist-->\n    <!--      <router-link to=\"/categories\">Add new</router-link>-->\n    <!--    </p>-->\n    <section>\n      <div v-for=\"cat of categories\"\n           :key=\"cat.id\">\n        <p>\n          <strong>{{ cat.title }}:</strong>\n          {{ cat.spend | currency }} из {{ cat.limit | currency }}\n        </p>\n        <div class=\"progress\" v-tooltip=\"cat.tooltip\">\n          <div\n              class=\"determinate\"\n              :class=\"[cat.progressColor]\"\n              :style=\"{width: cat.progressPercent+'%'}\"\n          ></div>\n          s\n        </div>\n      </div>\n    </section>\n  </div>\n</template>\n<script>\nimport {mapGetters} from 'vuex'\nimport currencyFilter from \"@/filters/currency.filter\";\n\nexport default {\n  name: 'planning',\n  data: () => ({\n    loading: true,\n    categories: []\n  }),\n  async mounted() {\n    const records = await this.$store.dispatch('fetchRecords')\n    const categories = await this.$store.dispatch('fetchCategories')\n    this.categories = categories.map(cat => {\n      const spend = records\n          .filter(r => r.categoryId === cat.id)\n          .filter(r => r.type === 'outcome')\n          .reduce((total, record) => {\n            return total += +record.amount\n          }, 0)\n      const percent = 100 * spend / cat.limit\n      const progressPercent = percent > 100 ? 100 : percent\n      const progressColor = percent < 60\n          ? 'green'\n          : percent < 100\n              ? 'yellow'\n              : 'red'\n      const tooltipValue = cat.limit - spend\n      const tooltip = `${tooltipValue < 0 ? 'Under:' : 'Has:'} ${currencyFilter(Math.abs(tooltipValue))}`\n      return {\n        ...cat,\n        progressPercent,\n        progressColor,\n        spend,\n        tooltip\n      }\n    })\n    this.loading = false\n  },\n  computed: {\n    ...mapGetters(['info'])\n  }\n}\n\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Planning.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Planning.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Planning.vue?vue&type=template&id=d3064ba8&\"\nimport script from \"./Planning.vue?vue&type=script&lang=js&\"\nexport * from \"./Planning.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var aFunction = require('./_a-function');\nvar toObject = require('./_to-object');\nvar IObject = require('./_iobject');\nvar toLength = require('./_to-length');\n\nmodule.exports = function (that, callbackfn, aLen, memo, isRight) {\n  aFunction(callbackfn);\n  var O = toObject(that);\n  var self = IObject(O);\n  var length = toLength(O.length);\n  var index = isRight ? length - 1 : 0;\n  var i = isRight ? -1 : 1;\n  if (aLen < 2) for (;;) {\n    if (index in self) {\n      memo = self[index];\n      index += i;\n      break;\n    }\n    index += i;\n    if (isRight ? index < 0 : length <= index) {\n      throw TypeError('Reduce of empty array with no initial value');\n    }\n  }\n  for (;isRight ? index >= 0 : length > index; index += i) if (index in self) {\n    memo = callbackfn(memo, self[index], index, O);\n  }\n  return memo;\n};\n"],"sourceRoot":""}